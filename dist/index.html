<!doctype html>
<html>
    <head>
        <title>Pastasciutta</title>
        <meta charset="utf-8">
    </head>
    <body>
        <div id="main"></div>
        <script src="https://www.gstatic.com/firebasejs/7.5.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.5.2/firebase-firestore.js"></script>
        <script src="main.js"></script>
        <script>
            // Set the configuration for your app
            var config = {
                apiKey: "AIzaSyDsGwfcJOxtgy5CLZymU6S5VOKqTzPwaV4",
                authDomain: "pastasciutta-reva.firebaseapp.com",
                databaseURL: "https://pastasciutta-reva.firebaseio.com",
                projectId: "pastasciutta-reva",
                storageBucket: "pastasciutta-reva.appspot.com",
                messagingSenderId: "355340758400",
                appId: "1:355340758400:web:1386fc4b2faff79d3b2565"
            };

            firebase.initializeApp(config);

            var db = firebase.firestore();
            db.collection("pizzas").get()
                .then(querySnapshot => querySnapshot.docs.map((doc) => doc.data()))
                .then(pizzas => app.ports.receivePizzas.send(pizzas));

            var app = Elm.Main.init({ node: document.getElementById('main') });
        </script>
    </body>
</html>
